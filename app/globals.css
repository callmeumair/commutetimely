@tailwind base;
@tailwind components;
@tailwind utilities;

/* Critical CSS - Above the fold styles */
@layer base {
  :root {
    /* Enhanced color system with better contrast */
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 221.2 83.2% 53.3%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96%;
    --secondary-foreground: 222.2 84% 4.9%;
    --muted: 210 40% 96%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96%;
    --accent-foreground: 222.2 84% 4.9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 221.2 83.2% 53.3%;
    --radius: 0.5rem;

    /* Brand colors with improved contrast */
    --brand-primary: 174 64% 41%;      /* #2EBFA5 */
    --brand-primary-light: 174 64% 51%; /* #24A892 */
    --brand-primary-dark: 174 64% 31%;  /* #1E8372 */
    --brand-secondary: 180 67% 15%;     /* #0C3F3F */
    --brand-accent: 39 100% 71%;        /* #FFC773 */
    
    /* Enhanced neutral palette */
    --neutral-50: 0 0% 98%;
    --neutral-100: 0 0% 96%;
    --neutral-200: 0 0% 90%;
    --neutral-300: 0 0% 83%;
    --neutral-400: 0 0% 64%;
    --neutral-500: 0 0% 45%;
    --neutral-600: 0 0% 32%;
    --neutral-700: 0 0% 25%;
    --neutral-800: 0 0% 15%;
    --neutral-900: 0 0% 9%;
    
    /* Status colors with better contrast */
    --success: 160 84% 39%;
    --warning: 43 96% 56%;
    --error: 0 84% 60%;
    --info: 217 91% 60%;
    
    /* Spacing scale */
    --space-xs: 0.25rem;    /* 4px */
    --space-sm: 0.5rem;     /* 8px */
    --space-md: 1rem;       /* 16px */
    --space-lg: 1.5rem;     /* 24px */
    --space-xl: 2rem;       /* 32px */
    --space-2xl: 3rem;      /* 48px */
    --space-3xl: 4rem;      /* 64px */
    --space-4xl: 6rem;      /* 96px */
    --space-5xl: 8rem;      /* 128px */
    --space-6xl: 12rem;     /* 192px */
    
    /* Typography scale */
    --font-size-xs: 0.75rem;    /* 12px */
    --font-size-sm: 0.875rem;   /* 14px */
    --font-size-base: 1rem;     /* 16px */
    --font-size-lg: 1.125rem;   /* 18px */
    --font-size-xl: 1.25rem;    /* 20px */
    --font-size-2xl: 1.5rem;    /* 24px */
    --font-size-3xl: 1.875rem;  /* 30px */
    --font-size-4xl: 2.25rem;   /* 36px */
    --font-size-5xl: 3rem;      /* 48px */
    --font-size-6xl: 3.75rem;   /* 60px */
    
    /* Line heights for better readability */
    --line-height-none: 1;
    --line-height-tight: 1.25;
    --line-height-snug: 1.375;
    --line-height-normal: 1.5;
    --line-height-relaxed: 1.625;
    --line-height-loose: 2;
    
    /* Focus ring styles */
    --focus-ring: 2px;
    --focus-ring-offset: 2px;
    --focus-ring-color: hsl(var(--brand-primary));
    
    /* Animation durations */
    --duration-fast: 150ms;
    --duration-normal: 300ms;
    --duration-slow: 500ms;
    
    /* Border radius */
    --radius-sm: 0.25rem;
    --radius-md: 0.375rem;
    --radius-lg: 0.5rem;
    --radius-xl: 0.75rem;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 210 40% 98%;
    --primary-foreground: 222.2 84% 4.9%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
  }

  /* Critical accessibility styles */
  *:focus-visible {
    outline: var(--focus-ring) solid hsl(var(--focus-ring-color));
    outline-offset: var(--focus-ring-offset);
  }

  *:focus:not(:focus-visible) {
    outline: none;
  }

  /* Enhanced button focus states */
  button:focus-visible,
  a:focus-visible,
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible {
    outline: var(--focus-ring) solid hsl(var(--focus-ring-color));
    outline-offset: var(--focus-ring-offset);
    box-shadow: 0 0 0 var(--focus-ring) hsl(var(--focus-ring-color));
  }

  /* Critical base styles */
  body {
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
    font-family: var(--font-inter), system-ui, -apple-system, sans-serif;
    line-height: var(--line-height-normal);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Critical typography */
  h1, h2, h3, h4, h5, h6 {
    font-weight: 700;
    line-height: var(--line-height-tight);
  }
  h1 { font-size: var(--font-size-5xl); }
  h2 { font-size: var(--font-size-4xl); }
  h3 { font-size: var(--font-size-3xl); }
  h4 { font-size: var(--font-size-2xl); }
  h5 { font-size: var(--font-size-xl); }
  h6 { font-size: var(--font-size-lg); }

  p {
    margin-bottom: var(--space-md);
    line-height: var(--line-height-relaxed);
  }

  /* Critical link styles */
  a {
    color: hsl(var(--brand-primary));
    text-decoration: none;
    transition: color var(--duration-fast) ease;
  }

  a:hover {
    color: hsl(var(--brand-primary-light));
  }

  a:focus-visible {
    outline: var(--focus-ring) solid hsl(var(--focus-ring-color));
    outline-offset: var(--focus-ring-offset);
  }

  /* Critical button styles */
  button {
    cursor: pointer;
    border: none;
    background: none;
    font-family: inherit;
    font-size: inherit;
    line-height: inherit;
  }

  /* Critical form styles */
  input, textarea, select {
    font-family: inherit;
    font-size: inherit;
    line-height: inherit;
  }

  /* Accessibility: Reduced motion */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* Accessibility: High contrast */
  @media (prefers-contrast: high) {
    :root {
      --brand-primary: 174 64% 31%;
      --brand-primary-light: 174 64% 21%;
    }
    *:focus-visible {
      outline-width: 3px;
    }
  }
}

/* Critical utility classes */
* {
  box-sizing: border-box;
}

/* Critical animations - only load if motion is preferred */
.motion-safe\:animate-fadeIn {
  @media (prefers-reduced-motion: no-preference) {
    animation: fadeIn var(--duration-normal) ease-out;
  }
}

.motion-safe\:animate-slideDown {
  @media (prefers-reduced-motion: no-preference) {
    animation: slideDown var(--duration-normal) ease-out;
  }
}

.motion-safe\:animate-scaleIn {
  @media (prefers-reduced-motion: no-preference) {
    animation: scaleIn var(--duration-normal) ease-out;
  }
}

/* Critical responsive utilities */
.motion-reduce\:animate-none {
  @media (prefers-reduced-motion: reduce) {
    animation: none;
  }
}

/* Critical transitions */
.motion-safe\:transition-all {
  @media (prefers-reduced-motion: no-preference) {
    transition: all var(--duration-normal) ease;
  }
}

.motion-safe\:hover\:transform {
  @media (prefers-reduced-motion: no-preference) {
    transition: transform var(--duration-normal) ease;
  }
}

.motion-safe\:hover\:scale {
  @media (prefers-reduced-motion: no-preference) {
    transition: transform var(--duration-normal) ease;
  }
}

/* Critical keyframes */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Critical layout styles */
html {
  scroll-behavior: smooth;
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
}

body {
  margin: 0;
  padding: 0;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

section {
  width: 100%;
  position: relative;
}

/* Critical mobile optimizations */
@media (max-width: 768px) {
  html {
    font-size: 14px;
  }
  
  body {
    font-size: var(--font-size-base);
  }
  
  section {
    padding: var(--space-lg) var(--space-md);
  }
  
  * {
    -webkit-tap-highlight-color: transparent;
  }
}

/* Critical mobile menu animations */
.mobile-menu-enter {
  opacity: 0;
  transform: translateX(-100%);
}

.mobile-menu-enter-active {
  opacity: 1;
  transform: translateX(0);
  transition: all var(--duration-normal) ease;
}

.mobile-menu-exit {
  opacity: 1;
  transform: translateX(0);
}

.mobile-menu-exit-active {
  opacity: 0;
  transform: translateX(-100%);
  transition: all var(--duration-normal) ease;
}

/* Critical button enhancements */
.btn-enhanced {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-sm) var(--space-md);
  border-radius: var(--radius-md);
  font-weight: 600;
  text-decoration: none;
  transition: all var(--duration-fast) ease;
  cursor: pointer;
}

.btn-enhanced:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}

.btn-enhanced:active {
  transform: translateY(0);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

/* Critical focus enhancements */
.focus-enhanced:focus {
  outline: var(--focus-ring) solid hsl(var(--focus-ring-color));
  outline-offset: var(--focus-ring-offset);
  box-shadow: 0 0 0 var(--focus-ring) hsl(var(--focus-ring-color));
}

/* Critical touch targets */
.touch-target {
  min-height: 44px;
  min-width: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Critical hover effects */
.hover-smooth {
  transition: all var(--duration-fast) ease;
}

.hover-smooth:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}

/* Accessibility: Reduced motion overrides */
@media (prefers-reduced-motion: reduce) {
  .mobile-menu-enter,
  .mobile-menu-exit,
  .mobile-menu-enter-active,
  .mobile-menu-exit-active {
    transition: none;
  }
  
  .btn-enhanced:hover,
  .hover-smooth:hover {
    transform: none;
    box-shadow: none;
  }
}

/* Accessibility: High contrast overrides */
@media (prefers-contrast: high) {
  .btn-enhanced {
    border: 2px solid currentColor;
  }
  
  .focus-enhanced:focus {
    outline-width: 3px;
  }
}

/* Critical container utilities */
.container-max {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 var(--space-md);
}

@media (min-width: 640px) {
  .container-max {
    padding: 0 var(--space-lg);
  }
}

@media (min-width: 768px) {
  .container-max {
    padding: 0 var(--space-xl);
  }
}

@media (min-width: 1024px) {
  .container-max {
    padding: 0 var(--space-2xl);
  }
}

@media (min-width: 1280px) {
  .container-max {
    padding: 0 var(--space-3xl);
  }
}

@media (min-width: 1536px) {
  .container-max {
    padding: 0 var(--space-4xl);
  }
}

/* Critical glass effect */
.glass {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: var(--radius-lg);
}

.glass:hover {
  background: rgba(255, 255, 255, 0.15);
  border-color: rgba(255, 255, 255, 0.3);
}

/* Critical accessibility: Skip link */
.skip-link {
  position: absolute;
  top: -40px;
  left: 6px;
  background: hsl(var(--brand-primary));
  color: white;
  padding: 8px;
  text-decoration: none;
  border-radius: var(--radius-sm);
  z-index: 1000;
}

.skip-link:focus {
  top: 6px;
}

/* Critical focus styles */
*:focus {
  outline: none;
}

button:focus,
a:focus,
input:focus,
textarea:focus,
select:focus {
  outline: var(--focus-ring) solid hsl(var(--focus-ring-color));
  outline-offset: var(--focus-ring-offset);
}

/* Critical text contrast utilities */
.text-high-contrast {
  color: hsl(var(--foreground));
  font-weight: 600;
}

.text-medium-contrast {
  color: hsl(var(--muted-foreground));
}

/* Critical spacing utilities */
.section-padding {
  padding: var(--space-2xl) 0;
}

@media (min-width: 640px) {
  .section-padding {
    padding: var(--space-3xl) 0;
  }
}

@media (min-width: 768px) {
  .section-padding {
    padding: var(--space-4xl) 0;
  }
}

/* Critical mobile section adjustments */
@media (max-width: 768px) {
  section {
    padding: var(--space-lg) var(--space-md);
  }
  
  .section-padding {
    padding: var(--space-xl) var(--space-md);
  }
}

/* Critical transition utilities */
.transition-enhanced {
  transition: all var(--duration-normal) ease;
}

.transition-fast {
  transition: all var(--duration-fast) ease;
}

.transition-slow {
  transition: all var(--duration-slow) ease;
}

/* Critical hover utilities */
.hover-lift {
  transition: transform var(--duration-normal) ease;
}

.hover-lift:hover {
  transform: translateY(-4px);
}

.hover-scale {
  transition: transform var(--duration-normal) ease;
}

.hover-scale:hover {
  transform: scale(1.05);
}

/* Critical shadow utilities */
.shadow-enhanced {
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

.shadow-lg-enhanced {
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

.shadow-xl-enhanced {
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}